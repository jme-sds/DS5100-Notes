<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Control Structures | Programming for Data Science Notes</title>
  <meta name="description" content="These are my notes for DS 5100: Programming for Data Science, Fall 2024 as taught by Professor Raf Alvarado." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Control Structures | Programming for Data Science Notes" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="These are my notes for DS 5100: Programming for Data Science, Fall 2024 as taught by Professor Raf Alvarado." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Control Structures | Programming for Data Science Notes" />
  
  <meta name="twitter:description" content="These are my notes for DS 5100: Programming for Data Science, Fall 2024 as taught by Professor Raf Alvarado." />
  

<meta name="author" content="John Michael Epperson" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introducing-python.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a></li>
<li class="chapter" data-level="2" data-path="introducing-python.html"><a href="introducing-python.html"><i class="fa fa-check"></i><b>2</b> Introducing Python</a></li>
<li class="chapter" data-level="3" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>3</b> Control Structures</a>
<ul>
<li class="chapter" data-level="3.1" data-path="control-structures.html"><a href="control-structures.html#control-structures-general"><i class="fa fa-check"></i><b>3.1</b> Control Structures General</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="control-structures.html"><a href="control-structures.html#conditions"><i class="fa fa-check"></i><b>3.1.1</b> Conditions</a></li>
<li class="chapter" data-level="3.1.2" data-path="control-structures.html"><a href="control-structures.html#indentation"><i class="fa fa-check"></i><b>3.1.2</b> Indentation</a></li>
<li class="chapter" data-level="3.1.3" data-path="control-structures.html"><a href="control-structures.html#loops"><i class="fa fa-check"></i><b>3.1.3</b> Loops</a></li>
<li class="chapter" data-level="3.1.4" data-path="control-structures.html"><a href="control-structures.html#while-vs-for"><i class="fa fa-check"></i><b>3.1.4</b> <code>while</code> vs <code>for</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="control-structures.html"><a href="control-structures.html#iterables-and-iterators"><i class="fa fa-check"></i><b>3.2</b> Iterables and Iterators</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="control-structures.html"><a href="control-structures.html#lists"><i class="fa fa-check"></i><b>3.2.1</b> Lists</a></li>
<li class="chapter" data-level="3.2.2" data-path="control-structures.html"><a href="control-structures.html#sequences-and-collections"><i class="fa fa-check"></i><b>3.2.2</b> Sequences and Collections</a></li>
<li class="chapter" data-level="3.2.3" data-path="control-structures.html"><a href="control-structures.html#get-iteration-number-with-enumerate"><i class="fa fa-check"></i><b>3.2.3</b> Get iteration number with <code>enumerate()</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="control-structures.html"><a href="control-structures.html#nested-loops"><i class="fa fa-check"></i><b>3.2.4</b> Nested Loops</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="control-structures.html"><a href="control-structures.html#comprehensions"><i class="fa fa-check"></i><b>3.3</b> Comprehensions</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="control-structures.html"><a href="control-structures.html#list-comprehensions"><i class="fa fa-check"></i><b>3.3.1</b> List Comprehensions</a></li>
<li class="chapter" data-level="3.3.2" data-path="control-structures.html"><a href="control-structures.html#comprehensions-in-general"><i class="fa fa-check"></i><b>3.3.2</b> Comprehensions in General</a></li>
<li class="chapter" data-level="3.3.3" data-path="control-structures.html"><a href="control-structures.html#examples"><i class="fa fa-check"></i><b>3.3.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="control-structures.html"><a href="control-structures.html#nested-comprehensions"><i class="fa fa-check"></i><b>3.4</b> Nested Comprehensions</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="control-structures.html"><a href="control-structures.html#example-1-creating-a-matrix"><i class="fa fa-check"></i><b>3.4.1</b> Example 1: Creating a Matrix</a></li>
<li class="chapter" data-level="3.4.2" data-path="control-structures.html"><a href="control-structures.html#example-2-filtering-a-nested-list"><i class="fa fa-check"></i><b>3.4.2</b> Example 2: Filtering a Nested List:</a></li>
<li class="chapter" data-level="3.4.3" data-path="control-structures.html"><a href="control-structures.html#example-3-flattening-nested-sub-lists"><i class="fa fa-check"></i><b>3.4.3</b> Example 3: Flattening Nested Sub-Lists</a></li>
<li class="chapter" data-level="3.4.4" data-path="control-structures.html"><a href="control-structures.html#example-4-manipulating-matrix-values"><i class="fa fa-check"></i><b>3.4.4</b> Example 4: Manipulating Matrix Values</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Programming for Data Science Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-structures" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Control Structures<a href="control-structures.html#control-structures" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>Structures</strong> control the flow of data in a program.</p>
<p>These structures are made of code blocks that provide <strong>looping and branching</strong> capabilities to your code, based on <strong>boolean conditions</strong>.</p>
<div id="control-structures-general" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Control Structures General<a href="control-structures.html#control-structures-general" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conditions" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Conditions<a href="control-structures.html#conditions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>I think you already know this, here’s a simple example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="control-structures.html#cb1-1" tabindex="-1"></a>val <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb1-2"><a href="control-structures.html#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="control-structures.html#cb1-3" tabindex="-1"></a><span class="cf">if</span> val <span class="op">&gt;=</span> <span class="dv">0</span>:</span>
<span id="cb1-4"><a href="control-structures.html#cb1-4" tabindex="-1"></a>    <span class="bu">print</span>(val)</span>
<span id="cb1-5"><a href="control-structures.html#cb1-5" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb1-6"><a href="control-structures.html#cb1-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="op">-</span>val)</span></code></pre></div>
<pre><code>## 2</code></pre>
</div>
<div id="indentation" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Indentation<a href="control-structures.html#indentation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Is essential to a python program.</p>
<ul>
<li>Python gets rid of the curly brackets and <code>IF...END IF</code> statements of c-like languages and replaces them with a consistent indentation pattern. This created more readable, easier to type code.</li>
</ul>
<div id="elif" class="section level4 hasAnchor" number="3.1.2.1">
<h4><span class="header-section-number">3.1.2.1</span> <strong><code>elif</code></strong><a href="control-structures.html#elif" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>elif</code> is reached when previous statements are not.</p>
<p>Unlike a series of <code>if</code> statements, an <code>elif</code> statement is <strong>only</strong> processed if none of the preceding ‘if’ statements are <strong>not processed</strong>. See example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="control-structures.html#cb3-1" tabindex="-1"></a>val <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb3-2"><a href="control-structures.html#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="control-structures.html#cb3-3" tabindex="-1"></a><span class="cf">if</span> <span class="op">-</span><span class="dv">10</span> <span class="op">&lt;</span> val <span class="op">&lt;</span> <span class="op">-</span><span class="dv">5</span>:</span>
<span id="cb3-4"><a href="control-structures.html#cb3-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;bucket 1&#39;</span>)</span>
<span id="cb3-5"><a href="control-structures.html#cb3-5" tabindex="-1"></a><span class="cf">elif</span> <span class="op">-</span><span class="dv">5</span> <span class="op">&lt;=</span> val <span class="op">&lt;</span> <span class="op">-</span><span class="dv">2</span>:</span>
<span id="cb3-6"><a href="control-structures.html#cb3-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;bucket 2&#39;</span>)</span>
<span id="cb3-7"><a href="control-structures.html#cb3-7" tabindex="-1"></a><span class="cf">elif</span> val <span class="op">==</span> <span class="op">-</span><span class="dv">2</span>:</span>
<span id="cb3-8"><a href="control-structures.html#cb3-8" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;bucket 3&#39;</span>)</span></code></pre></div>
<pre><code>## bucket 3</code></pre>
</div>
<div id="else" class="section level4 hasAnchor" number="3.1.2.2">
<h4><span class="header-section-number">3.1.2.2</span> <strong><code>else</code></strong><a href="control-structures.html#else" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>else</code> can be used as a catchall for situations where no condition is met. Put it at the end.</p>
<p>It’s good practice to include and <code>else</code> statement.</p>
</div>
<div id="if-and-else-statements-as-one-liners" class="section level4 hasAnchor" number="3.1.2.3">
<h4><span class="header-section-number">3.1.2.3</span> <code>if</code> and <code>else</code> statements as one-liners<a href="control-structures.html#if-and-else-statements-as-one-liners" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Python provides a short-hand way of defining <code>if</code> statements:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="control-structures.html#cb5-1" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb5-2"><a href="control-structures.html#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="control-structures.html#cb5-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;odd&#39;</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span> <span class="cf">else</span> <span class="bu">print</span>(<span class="st">&#39;even&#39;</span>)</span></code></pre></div>
<pre><code>## odd</code></pre>
<p>The general form:</p>
<p><code>ACTION1 if CONDITION else ACTION2</code></p>
<p>both <code>if</code> and <code>else</code> are required. Otherwise, code machine broke…</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="control-structures.html#cb7-1" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;odd&#39;</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## expected &#39;else&#39; after &#39;if&#39; expression (&lt;string&gt;, line 1)</code></pre>
<p>Basically it’s either/or</p>
</div>
<div id="using-mulitple-conditions" class="section level4 hasAnchor" number="3.1.2.4">
<h4><span class="header-section-number">3.1.2.4</span> Using mulitple conditions<a href="control-structures.html#using-mulitple-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>I think you got this one chief. Make sure you use parentheses to keep order of operations in tact.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="control-structures.html#cb9-1" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">1</span>) <span class="cf">if</span> (<span class="op">-</span><span class="dv">2</span> <span class="op">&lt;</span> val <span class="op">&lt;</span> <span class="dv">2</span>) <span class="kw">or</span> (val <span class="op">&gt;</span> <span class="dv">10</span>) <span class="cf">else</span> <span class="bu">print</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 2</code></pre>
</div>
</div>
<div id="loops" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Loops<a href="control-structures.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Loops are <strong>fundamental</strong> to constructs in programming.</p>
<p>The repitition of a process as the data changes is called <strong>iteration</strong>.</p>
<p>Loops exemplify a <strong>premise</strong> of this course that data structures imply algorithms. Using the term ‘list’ broadly, we may say that <strong>lists imply loops</strong>.</p>
<p>The two main kinds of loops in python are <code>while</code> and <code>for</code>.</p>
<div id="while-loops" class="section level4 hasAnchor" number="3.1.3.1">
<h4><span class="header-section-number">3.1.3.1</span> <code>while</code> loops<a href="control-structures.html#while-loops" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>While loops iterate ‘while’ some condition is true. they stop when the condition is false.</p>
<p>Example:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="control-structures.html#cb11-1" tabindex="-1"></a>ix <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb11-2"><a href="control-structures.html#cb11-2" tabindex="-1"></a>ix_list <span class="op">=</span> []</span>
<span id="cb11-3"><a href="control-structures.html#cb11-3" tabindex="-1"></a><span class="cf">while</span> ix <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb11-4"><a href="control-structures.html#cb11-4" tabindex="-1"></a>    ix <span class="op">*=</span> <span class="dv">2</span></span>
<span id="cb11-5"><a href="control-structures.html#cb11-5" tabindex="-1"></a>    ix_list.append(ix)</span>
<span id="cb11-6"><a href="control-structures.html#cb11-6" tabindex="-1"></a><span class="bu">print</span>(ix)</span></code></pre></div>
<pre><code>## 16</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="control-structures.html#cb13-1" tabindex="-1"></a><span class="bu">print</span>(ix_list)</span></code></pre></div>
<pre><code>## [2, 4, 8, 16]</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="control-structures.html#cb15-1" tabindex="-1"></a><span class="bu">print</span>(ix_list[<span class="op">-</span><span class="dv">1</span>])</span></code></pre></div>
<pre><code>## 16</code></pre>
<p>Note that it is possible for while loops to be unending.</p>
<p>For example:</p>
<p><code>while 1: \   print("This is so annoying")</code></p>
<p>This is why it’s important to make sure your looping condition can be met. You may also break out of a loop by other means.</p>
</div>
<div id="break" class="section level4 hasAnchor" number="3.1.3.2">
<h4><span class="header-section-number">3.1.3.2</span> <code>break</code><a href="control-structures.html#break" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sometimes you want to quit the loop early, if some condition is met.</p>
<p>To do this, put <code>break</code> in the <code>if</code> statement.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="control-structures.html#cb17-1" tabindex="-1"></a>ix <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb17-2"><a href="control-structures.html#cb17-2" tabindex="-1"></a><span class="cf">while</span> ix <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb17-3"><a href="control-structures.html#cb17-3" tabindex="-1"></a>    ix <span class="op">=</span> ix <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb17-4"><a href="control-structures.html#cb17-4" tabindex="-1"></a>    <span class="cf">if</span> ix <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb17-5"><a href="control-structures.html#cb17-5" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb17-6"><a href="control-structures.html#cb17-6" tabindex="-1"></a><span class="bu">print</span>(ix)</span></code></pre></div>
<pre><code>## 4</code></pre>
<p>The <code>break</code> causes the loop to end early.</p>
</div>
<div id="continue" class="section level4 hasAnchor" number="3.1.3.3">
<h4><span class="header-section-number">3.1.3.3</span> <code>continue</code><a href="control-structures.html#continue" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sometimes you want to introduce skipping behavior in loops.</p>
<p>In this case, use <code>continue</code> in <code>if</code> statement.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="control-structures.html#cb19-1" tabindex="-1"></a>ix <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb19-2"><a href="control-structures.html#cb19-2" tabindex="-1"></a><span class="cf">while</span> ix <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb19-3"><a href="control-structures.html#cb19-3" tabindex="-1"></a>    ix <span class="op">=</span> ix <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb19-4"><a href="control-structures.html#cb19-4" tabindex="-1"></a>    <span class="cf">if</span> ix <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb19-5"><a href="control-structures.html#cb19-5" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&#39;skipping 4...&#39;</span>)</span>
<span id="cb19-6"><a href="control-structures.html#cb19-6" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb19-7"><a href="control-structures.html#cb19-7" tabindex="-1"></a>    <span class="bu">print</span>(ix)</span></code></pre></div>
<pre><code>## 2
## skipping 4...
## 8
## 16</code></pre>
</div>
<div id="for" class="section level4 hasAnchor" number="3.1.3.4">
<h4><span class="header-section-number">3.1.3.4</span> <code>for</code><a href="control-structures.html#for" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In contrast to <code>while</code> loops, <code>for</code> loops iterate over an iterable data structure, such as a list.</p>
<p>They stop once the list is finished. See example below:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="control-structures.html#cb21-1" tabindex="-1"></a>cities <span class="op">=</span> [<span class="st">&#39;Charlottesville&#39;</span>,<span class="st">&#39;New York&#39;</span>,<span class="st">&#39;SF&#39;</span>,<span class="st">&#39;BOS&#39;</span>,<span class="st">&#39;LA&#39;</span>]</span>
<span id="cb21-2"><a href="control-structures.html#cb21-2" tabindex="-1"></a></span>
<span id="cb21-3"><a href="control-structures.html#cb21-3" tabindex="-1"></a><span class="cf">for</span> city <span class="kw">in</span> cities:</span>
<span id="cb21-4"><a href="control-structures.html#cb21-4" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;&quot;</span><span class="sc">{</span>city<span class="sc">.</span>lower()<span class="sc">}</span><span class="ss">&quot;&#39;</span>, end<span class="op">=</span><span class="st">&#39; &#39;</span>)</span></code></pre></div>
<pre><code>## &quot;charlottesville&quot; &quot;new york&quot; &quot;sf&quot; &quot;bos&quot; &quot;la&quot;</code></pre>
<p>Conditions can be placed inside <code>if</code> statements to skip within or stop the loop.</p>
<p><strong>e.g.</strong>: Quit early if <code>SF</code> reached, using <code>break</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="control-structures.html#cb23-1" tabindex="-1"></a>cities <span class="op">=</span> [<span class="st">&#39;Charlottesville&#39;</span>,<span class="st">&#39;New York&#39;</span>,<span class="st">&#39;SF&#39;</span>,<span class="st">&#39;BOS&#39;</span>,<span class="st">&#39;LA&#39;</span>]</span>
<span id="cb23-2"><a href="control-structures.html#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="control-structures.html#cb23-3" tabindex="-1"></a><span class="cf">for</span> city <span class="kw">in</span> cities:  </span>
<span id="cb23-4"><a href="control-structures.html#cb23-4" tabindex="-1"></a>    <span class="cf">if</span> city <span class="op">==</span> <span class="st">&#39;SF&#39;</span>:</span>
<span id="cb23-5"><a href="control-structures.html#cb23-5" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb23-6"><a href="control-structures.html#cb23-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;&quot;</span><span class="sc">{</span>city<span class="sc">.</span>lower()<span class="sc">}</span><span class="ss">&quot;&#39;</span>, end<span class="op">=</span><span class="st">&#39; &#39;</span>)</span></code></pre></div>
<pre><code>## &quot;charlottesville&quot; &quot;new york&quot;</code></pre>
<p>Skip over <code>SF</code> if reached, using <code>continue</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="control-structures.html#cb25-1" tabindex="-1"></a>cities <span class="op">=</span> [<span class="st">&#39;Charlottesville&#39;</span>,<span class="st">&#39;New York&#39;</span>,<span class="st">&#39;SF&#39;</span>,<span class="st">&#39;BOS&#39;</span>,<span class="st">&#39;LA&#39;</span>]</span>
<span id="cb25-2"><a href="control-structures.html#cb25-2" tabindex="-1"></a></span>
<span id="cb25-3"><a href="control-structures.html#cb25-3" tabindex="-1"></a><span class="cf">for</span> city <span class="kw">in</span> cities:</span>
<span id="cb25-4"><a href="control-structures.html#cb25-4" tabindex="-1"></a>    <span class="cf">if</span> city <span class="op">==</span> <span class="st">&#39;SF&#39;</span>:</span>
<span id="cb25-5"><a href="control-structures.html#cb25-5" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb25-6"><a href="control-structures.html#cb25-6" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;&quot;</span><span class="sc">{</span>city<span class="sc">.</span>lower()<span class="sc">}</span><span class="ss">&quot;&#39;</span>, end<span class="op">=</span><span class="st">&#39; &#39;</span>)        </span></code></pre></div>
<pre><code>## &quot;charlottesville&quot; &quot;new york&quot; &quot;bos&quot; &quot;la&quot;</code></pre>
</div>
</div>
<div id="while-vs-for" class="section level3 hasAnchor" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> <code>while</code> vs <code>for</code><a href="control-structures.html#while-vs-for" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When choosing between a <code>for</code> and <code>while</code> loop, consider the following:</p>
<ul>
<li><p><code>for</code> loops are used to loop through a list of values or an operation in which the number of iteration is <strong>known</strong> in advance.</p></li>
<li><p><code>while</code> loops are used when you <strong>don’t know</strong> how many iterations it will take - you are depending on some condition to be met.</p></li>
</ul>
<p>The former is often used when <strong>processing</strong> data, the latter whe performing algorithmic <strong>modeling</strong> tasks, such as optimizing and convergence.</p>
</div>
</div>
<div id="iterables-and-iterators" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Iterables and Iterators<a href="control-structures.html#iterables-and-iterators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sequential data structures like lists and tuples have a <strong>natural affinity</strong> to loops.</p>
<p>Sequences imply loops, and loops expect sequences.</p>
<p>In python this relationship is captured by the resonance between the words <strong>iteration</strong> and <strong>iterables</strong>.</p>
<p><strong>Iterable data structures</strong> that can be iterated over, meaning they can return their elements one at a time.</p>
<p><strong>Examples</strong> of iterable objects include lists, tuples, sets, dicts, and strings.</p>
<p>Typically we iterate over iterables using <code>for</code> <strong>loops</strong>, as we saw when we reviewed control structures.</p>
<div id="lists" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Lists<a href="control-structures.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="iterating-using-for" class="section level4 hasAnchor" number="3.2.1.1">
<h4><span class="header-section-number">3.2.1.1</span> iterating using <code>for</code><a href="control-structures.html#iterating-using-for" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>review of iteration by means of a <code>for</code> loop</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="control-structures.html#cb27-1" tabindex="-1"></a>tokens <span class="op">=</span> [<span class="st">&#39;living room&#39;</span>, <span class="st">&#39;was&#39;</span>, <span class="st">&#39;quite&#39;</span>, <span class="st">&#39;large&#39;</span>]</span>
<span id="cb27-2"><a href="control-structures.html#cb27-2" tabindex="-1"></a><span class="cf">for</span> tok <span class="kw">in</span> tokens:</span>
<span id="cb27-3"><a href="control-structures.html#cb27-3" tabindex="-1"></a>    <span class="bu">print</span>(tok)</span></code></pre></div>
<pre><code>## living room
## was
## quite
## large</code></pre>
</div>
<div id="iterators" class="section level4 hasAnchor" number="3.2.1.2">
<h4><span class="header-section-number">3.2.1.2</span> Iterators<a href="control-structures.html#iterators" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An <strong>iterator</strong> is used to iterate over iterable objects by removing one element at a time from the iterables.</p>
</div>
<div id="iterating-with-iterators" class="section level4 hasAnchor" number="3.2.1.3">
<h4><span class="header-section-number">3.2.1.3</span> Iterating with Iterators<a href="control-structures.html#iterating-with-iterators" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An iterator works by popping out and removing a value at each iteration.</p>
<p>This means that when iterating through an iterable object you empty as you go, leaving an empty data structure at the end.</p>
<p>This is useful in situations where you want to save memory.</p>
<p>Many functions in python return iterables so it’s helpful to understand them even if you don’t create any yourself.</p>
</div>
<div id="using-iter-and-next" class="section level4 hasAnchor" number="3.2.1.4">
<h4><span class="header-section-number">3.2.1.4</span> Using <code>iter()</code> and <code>next()</code><a href="control-structures.html#using-iter-and-next" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>convert a sequence to an iterator object using <code>iter()</code></p>
<p>Then use <code>next()</code> to get the next item from the iterator.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="control-structures.html#cb29-1" tabindex="-1"></a>tokens <span class="op">=</span> [<span class="st">&#39;living room&#39;</span>,<span class="st">&#39;was&#39;</span>,<span class="st">&#39;quite&#39;</span>,<span class="st">&#39;large&#39;</span>]</span>
<span id="cb29-2"><a href="control-structures.html#cb29-2" tabindex="-1"></a>myit <span class="op">=</span> <span class="bu">iter</span>(tokens)</span>
<span id="cb29-3"><a href="control-structures.html#cb29-3" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(myit)) </span></code></pre></div>
<pre><code>## living room</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="control-structures.html#cb31-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(myit)) </span></code></pre></div>
<pre><code>## was</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="control-structures.html#cb33-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(myit)) </span></code></pre></div>
<pre><code>## quite</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="control-structures.html#cb35-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(myit)) </span></code></pre></div>
<pre><code>## large</code></pre>
<p>Calling <code>next()</code> when the iterator has reached the end of the list produces an exception:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="control-structures.html#cb37-1" tabindex="-1"></a><span class="bu">next</span>(myit)</span></code></pre></div>
<pre><code>## StopIteration</code></pre>
<p>Note that when used witha n iterable created by <code>iter()</code>, <code>for</code> implicitly executes <code>next()</code> on each loop iteration.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="control-structures.html#cb39-1" tabindex="-1"></a>myit <span class="op">=</span> <span class="bu">iter</span>(tokens) <span class="co"># Reset the iterator</span></span>
<span id="cb39-2"><a href="control-structures.html#cb39-2" tabindex="-1"></a><span class="cf">for</span> next_it <span class="kw">in</span> myit:</span>
<span id="cb39-3"><a href="control-structures.html#cb39-3" tabindex="-1"></a>    <span class="bu">print</span>(next_it)</span></code></pre></div>
<pre><code>## living room
## was
## quite
## large</code></pre>
</div>
</div>
<div id="sequences-and-collections" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Sequences and Collections<a href="control-structures.html#sequences-and-collections" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>So far, we’ve iterated over a list; now we’ll look at sets, strings, tuples, dicts, and ranges!</p>
<p>Lists, tuples, and strings are <strong>sequences</strong>. Sequences are designed so that elements come out of them the same way they were put in (they are ordered).</p>
<p>Sets and dictionaries are not sequences per se, since the order of their elements is not as important as their names. Sets and dicts are called <strong>collections</strong>.</p>
<p>Post Python 3.7, dicts preserve order, and sets are sorted; but it don’t matter too much.</p>
<div id="sets" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Sets<a href="control-structures.html#sets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Iterating using <code>for</code>:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="control-structures.html#cb41-1" tabindex="-1"></a>princesses <span class="op">=</span> {<span class="st">&#39;belle&#39;</span>, <span class="st">&#39;cinderella&#39;</span>, <span class="st">&#39;rapunzel&#39;</span>}</span>
<span id="cb41-2"><a href="control-structures.html#cb41-2" tabindex="-1"></a><span class="cf">for</span> princess <span class="kw">in</span> princesses:</span>
<span id="cb41-3"><a href="control-structures.html#cb41-3" tabindex="-1"></a>    <span class="bu">print</span>(princess)</span></code></pre></div>
<pre><code>## belle
## rapunzel
## cinderella</code></pre>
<p>Now with <code>iter()</code> and <code>next()</code>:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="control-structures.html#cb43-1" tabindex="-1"></a>princesses_i <span class="op">=</span> <span class="bu">iter</span>(princesses)</span>
<span id="cb43-2"><a href="control-structures.html#cb43-2" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(princesses_i))</span></code></pre></div>
<pre><code>## belle</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="control-structures.html#cb45-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(princesses_i))</span></code></pre></div>
<pre><code>## rapunzel</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="control-structures.html#cb47-1" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(princesses_i))</span></code></pre></div>
<pre><code>## cinderella</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="control-structures.html#cb49-1" tabindex="-1"></a><span class="bu">type</span>(princesses_i)</span></code></pre></div>
<pre><code>## &lt;class &#39;set_iterator&#39;&gt;</code></pre>
</div>
<div id="strings" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Strings<a href="control-structures.html#strings" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>using <code>for</code></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="control-structures.html#cb51-1" tabindex="-1"></a>str1 <span class="op">=</span> <span class="st">&#39;data&#39;</span></span>
<span id="cb51-2"><a href="control-structures.html#cb51-2" tabindex="-1"></a><span class="cf">for</span> my_char <span class="kw">in</span> str1:</span>
<span id="cb51-3"><a href="control-structures.html#cb51-3" tabindex="-1"></a>    <span class="bu">print</span>(my_char)</span></code></pre></div>
<pre><code>## d
## a
## t
## a</code></pre>
</div>
<div id="tuples" class="section level4 hasAnchor" number="3.2.2.3">
<h4><span class="header-section-number">3.2.2.3</span> Tuples<a href="control-structures.html#tuples" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>for</code></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="control-structures.html#cb53-1" tabindex="-1"></a>metrics <span class="op">=</span> (<span class="st">&#39;auc&#39;</span>,<span class="st">&#39;recall&#39;</span>,<span class="st">&#39;precision&#39;</span>,<span class="st">&#39;support&#39;</span>)</span>
<span id="cb53-2"><a href="control-structures.html#cb53-2" tabindex="-1"></a><span class="cf">for</span> met <span class="kw">in</span> metrics:</span>
<span id="cb53-3"><a href="control-structures.html#cb53-3" tabindex="-1"></a>    <span class="bu">print</span>(met)</span></code></pre></div>
<pre><code>## auc
## recall
## precision
## support</code></pre>
</div>
<div id="dicts" class="section level4 hasAnchor" number="3.2.2.4">
<h4><span class="header-section-number">3.2.2.4</span> Dicts<a href="control-structures.html#dicts" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="control-structures.html#cb55-1" tabindex="-1"></a>courses <span class="op">=</span> {<span class="st">&#39;fall&#39;</span>: [<span class="st">&#39;regression&#39;</span>,<span class="st">&#39;python&#39;</span>],</span>
<span id="cb55-2"><a href="control-structures.html#cb55-2" tabindex="-1"></a>         <span class="st">&#39;spring&#39;</span>: [<span class="st">&#39;capstone&#39;</span>,<span class="st">&#39;pyspark&#39;</span>,<span class="st">&#39;nlp&#39;</span>]}</span></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="control-structures.html#cb56-1" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> courses:</span>
<span id="cb56-2"><a href="control-structures.html#cb56-2" tabindex="-1"></a>  <span class="bu">print</span>(k)</span></code></pre></div>
<pre><code>## fall
## spring</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="control-structures.html#cb58-1" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> courses.keys():</span>
<span id="cb58-2"><a href="control-structures.html#cb58-2" tabindex="-1"></a>  <span class="bu">print</span>(k)</span></code></pre></div>
<pre><code>## fall
## spring</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="control-structures.html#cb60-1" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> courses.values():</span>
<span id="cb60-2"><a href="control-structures.html#cb60-2" tabindex="-1"></a>  <span class="bu">print</span>(v)</span></code></pre></div>
<pre><code>## [&#39;regression&#39;, &#39;python&#39;]
## [&#39;capstone&#39;, &#39;pyspark&#39;, &#39;nlp&#39;]</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="control-structures.html#cb62-1" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> courses.items():</span>
<span id="cb62-2"><a href="control-structures.html#cb62-2" tabindex="-1"></a>  <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>k<span class="sc">.</span>upper()<span class="sc">}</span><span class="ss">:</span><span class="ch">\t</span><span class="sc">{</span><span class="st">&#39;, &#39;</span><span class="sc">.</span>join(v)<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## FALL:    regression, python
## SPRING:  capstone, pyspark, nlp</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="control-structures.html#cb64-1" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> courses.keys():</span>
<span id="cb64-2"><a href="control-structures.html#cb64-2" tabindex="-1"></a>  <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>k<span class="sc">.</span>upper()<span class="sc">}</span><span class="ss">:</span><span class="ch">\t</span><span class="sc">{</span><span class="st">&#39;, &#39;</span><span class="sc">.</span>join(courses[k])<span class="sc">}</span><span class="ss">&quot;</span>) <span class="co">#index into dict</span></span></code></pre></div>
<pre><code>## FALL:    regression, python
## SPRING:  capstone, pyspark, nlp</code></pre>
</div>
<div id="ranges" class="section level4 hasAnchor" number="3.2.2.5">
<h4><span class="header-section-number">3.2.2.5</span> Ranges<a href="control-structures.html#ranges" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>using <code>for</code></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="control-structures.html#cb66-1" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb66-2"><a href="control-structures.html#cb66-2" tabindex="-1"></a>  <span class="bu">print</span>(<span class="bu">str</span>(i<span class="op">+</span><span class="dv">1</span>).zfill(<span class="dv">2</span>),(i<span class="op">+</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span><span class="op">*</span><span class="st">&#39;|&#39;</span>)</span></code></pre></div>
<pre><code>## 01 |
## 02 ||||
## 03 |||||||||
## 04 ||||||||||||||||
## 05 |||||||||||||||||||||||||</code></pre>
</div>
</div>
<div id="get-iteration-number-with-enumerate" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Get iteration number with <code>enumerate()</code><a href="control-structures.html#get-iteration-number-with-enumerate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Very often you will want to know iteration number you are on in a loop.</p>
<p>can be used to name files or dict keys, for example.</p>
<p><code>enumerate()</code> will return the index and key for each iteration.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="control-structures.html#cb68-1" tabindex="-1"></a>courses</span></code></pre></div>
<pre><code>## {&#39;fall&#39;: [&#39;regression&#39;, &#39;python&#39;], &#39;spring&#39;: [&#39;capstone&#39;, &#39;pyspark&#39;, &#39;nlp&#39;]}</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="control-structures.html#cb70-1" tabindex="-1"></a><span class="cf">for</span> i, semester <span class="kw">in</span> <span class="bu">enumerate</span>(courses):</span>
<span id="cb70-2"><a href="control-structures.html#cb70-2" tabindex="-1"></a>    course_name <span class="op">=</span> <span class="ss">f&quot;</span><span class="sc">{</span><span class="bu">str</span>(i)<span class="sc">.</span>zfill(<span class="dv">2</span>)<span class="sc">}</span><span class="ss">_</span><span class="sc">{</span>semester<span class="sc">}</span><span class="ss">:</span><span class="ch">\t</span><span class="sc">{</span><span class="st">&#39;-&#39;</span><span class="sc">.</span>join(courses[semester])<span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb70-3"><a href="control-structures.html#cb70-3" tabindex="-1"></a>    <span class="bu">print</span>(course_name)</span></code></pre></div>
<pre><code>## 00_fall: regression-python
## 01_spring:   capstone-pyspark-nlp</code></pre>
</div>
<div id="nested-loops" class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Nested Loops<a href="control-structures.html#nested-loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Iterations can be nested, which is very powerful</p>
<p>This works well with nested data structures, like dicts within dicts.</p>
<p>This is basically how <code>JSON</code> files are handles, by the way…</p>
<p>Be careful, though, these can get deep and complicated.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb72-1"><a href="control-structures.html#cb72-1" tabindex="-1"></a><span class="cf">for</span> i, semester <span class="kw">in</span> <span class="bu">enumerate</span>(courses):</span>
<span id="cb72-2"><a href="control-structures.html#cb72-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">. </span><span class="sc">{</span>semester<span class="sc">.</span>upper()<span class="sc">}</span><span class="ss">:&quot;</span>)</span>
<span id="cb72-3"><a href="control-structures.html#cb72-3" tabindex="-1"></a>    <span class="cf">for</span> j, course <span class="kw">in</span> <span class="bu">enumerate</span>(courses[semester]):</span>
<span id="cb72-4"><a href="control-structures.html#cb72-4" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="ch">\t</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">.</span><span class="sc">{</span>j<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">. </span><span class="sc">{</span>course<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## 1. FALL:
##  1.1. regression
##  1.2. python
## 2. SPRING:
##  2.1. capstone
##  2.2. pyspark
##  2.3. nlp</code></pre>
<p>Use nested loops to get the cartesian product.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="control-structures.html#cb74-1" tabindex="-1"></a>die <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">7</span>)</span>
<span id="cb74-2"><a href="control-structures.html#cb74-2" tabindex="-1"></a>die_rolls <span class="op">=</span> []</span>
<span id="cb74-3"><a href="control-structures.html#cb74-3" tabindex="-1"></a><span class="cf">for</span> face1 <span class="kw">in</span> die:</span>
<span id="cb74-4"><a href="control-structures.html#cb74-4" tabindex="-1"></a>    <span class="cf">for</span> face2 <span class="kw">in</span> die:</span>
<span id="cb74-5"><a href="control-structures.html#cb74-5" tabindex="-1"></a>        die_rolls.append((face1, face2))</span>
<span id="cb74-6"><a href="control-structures.html#cb74-6" tabindex="-1"></a><span class="bu">print</span>(die_rolls)</span></code></pre></div>
<pre><code>## [(1, 1), (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (2, 1), (2, 2), (2, 3), (2, 4), (2, 5), (2, 6), (3, 1), (3, 2), (3, 3), (3, 4), (3, 5), (3, 6), (4, 1), (4, 2), (4, 3), (4, 4), (4, 5), (4, 6), (5, 1), (5, 2), (5, 3), (5, 4), (5, 5), (5, 6), (6, 1), (6, 2), (6, 3), (6, 4), (6, 5), (6, 6)]</code></pre>
<p>Now get frequency of die roll sums.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="control-structures.html#cb76-1" tabindex="-1"></a>die_roll_sums <span class="op">=</span> {}</span></code></pre></div>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="control-structures.html#cb77-1" tabindex="-1"></a><span class="cf">for</span> my_die_roll <span class="kw">in</span> die_rolls:</span>
<span id="cb77-2"><a href="control-structures.html#cb77-2" tabindex="-1"></a>    my_die_roll_sum <span class="op">=</span> <span class="bu">sum</span>(my_die_roll)</span>
<span id="cb77-3"><a href="control-structures.html#cb77-3" tabindex="-1"></a>    die_roll_sums[my_die_roll_sum] <span class="op">=</span> die_roll_sums.get(my_die_roll_sum, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span></code></pre></div>
<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="control-structures.html#cb78-1" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> die_roll_sums.items():</span>
<span id="cb78-2"><a href="control-structures.html#cb78-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">str</span>(k).zfill(<span class="dv">2</span>), v, <span class="st">&#39;|&#39;</span> <span class="op">*</span> v)</span></code></pre></div>
<pre><code>## 02 1 |
## 03 2 ||
## 04 3 |||
## 05 4 ||||
## 06 5 |||||
## 07 6 ||||||
## 08 5 |||||
## 09 4 ||||
## 10 3 |||
## 11 2 ||
## 12 1 |</code></pre>
</div>
</div>
<div id="comprehensions" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Comprehensions<a href="control-structures.html#comprehensions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="list-comprehensions" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> List Comprehensions<a href="control-structures.html#list-comprehensions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider the following task.</p>
<p>Check if each integer in a list is odd and save the results (true or false) in a list.</p>
<p>With a standard loop, you could do this</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="control-structures.html#cb80-1" tabindex="-1"></a>vals <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">12</span>,<span class="dv">15</span>]</span>
<span id="cb80-2"><a href="control-structures.html#cb80-2" tabindex="-1"></a>is_odd <span class="op">=</span> []</span>
<span id="cb80-3"><a href="control-structures.html#cb80-3" tabindex="-1"></a><span class="cf">for</span> val <span class="kw">in</span> vals:   </span>
<span id="cb80-4"><a href="control-structures.html#cb80-4" tabindex="-1"></a>    <span class="cf">if</span> val <span class="op">%</span> <span class="dv">2</span>:</span>
<span id="cb80-5"><a href="control-structures.html#cb80-5" tabindex="-1"></a>        is_odd.append(<span class="va">True</span>)</span>
<span id="cb80-6"><a href="control-structures.html#cb80-6" tabindex="-1"></a>    <span class="cf">else</span>:       </span>
<span id="cb80-7"><a href="control-structures.html#cb80-7" tabindex="-1"></a>        is_odd.append(<span class="va">False</span>)</span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="control-structures.html#cb81-1" tabindex="-1"></a>is_odd</span></code></pre></div>
<pre><code>## [True, True, False, False, False, True]</code></pre>
<p>Now do the same with a list comprehension:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="control-structures.html#cb83-1" tabindex="-1"></a>is_odd_comp <span class="op">=</span> [val <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span> <span class="cf">for</span> val <span class="kw">in</span> vals]</span>
<span id="cb83-2"><a href="control-structures.html#cb83-2" tabindex="-1"></a>is_odd_comp</span></code></pre></div>
<pre><code>## [True, True, False, False, False, True]</code></pre>
<p>Much shorter and if you understand the syntax, quicker to interpret.</p>
<p>Here’s how you might save all the odd numbers in a list:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="control-structures.html#cb85-1" tabindex="-1"></a>odd_vals <span class="op">=</span> [val <span class="cf">for</span> val <span class="kw">in</span> vals <span class="cf">if</span> val <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span>]</span>
<span id="cb85-2"><a href="control-structures.html#cb85-2" tabindex="-1"></a>odd_vals</span></code></pre></div>
<pre><code>## [1, 5, 15]</code></pre>
</div>
<div id="comprehensions-in-general" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Comprehensions in General<a href="control-structures.html#comprehensions-in-general" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Comprehensions provide a concise method for iterating over any iterable object to a new iterable object.</p>
<p>There are comprehensions for each type of iterable:</p>
<ul>
<li>List comprehensions</li>
<li>Dict comprehensions</li>
<li>Set comprehensions</li>
</ul>
<p><strong>Note</strong>: there is no tuple comprehension.</p>
<p>Comprehensions are essentially concise <code>for</code> loops that address the use case of <em>transforming one iterable into another</em>.</p>
<p>They are also more efficient than loops.</p>
<p>All comprehensions have the form:</p>
<p>listlike_result = <code>[expression + context + condition]</code></p>
<p>For example, in the comprehension above we can see these parts by breaking up the code into three lines:</p>
<p>This is syntactically legit.</p>
<p>The type of comprehension is indicated by the use of enclosing pairs, just like anonymous constructors:</p>
<ul>
<li>List comprehensions: <code>[expression + context + condition]</code></li>
<li>Dict comprehensions: <code>{expression + context + condition}</code></li>
<li>Set comprehensions: <code>{expression + context + condition}</code></li>
</ul>
<p>Parts:</p>
<ul>
<li><p><strong>Expression</strong> defines what to do with each element in the list.</p>
<ul>
<li>this can be a complex expression, or it may not include the iterated value at all</li>
<li>for dicts, the expression is actually complex, it must be a key/value pair</li>
</ul></li>
<li><p><strong>Context</strong> defines which iterable elements to select</p></li>
<li><p><strong>Condition</strong> defiens a boolean condition on the iterated value that determines if it gets included in the expression</p></li>
</ul>
<p>Note that you can include comprehensions within comprehensions</p>
<p>And you can include multiple context + condition statements</p>
</div>
<div id="examples" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Examples<a href="control-structures.html#examples" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="removing-stopwords" class="section level4 hasAnchor" number="3.3.3.1">
<h4><span class="header-section-number">3.3.3.1</span> Removing Stopwords<a href="control-structures.html#removing-stopwords" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Define a sentence and a list of stop words.</p>
<p>Filter out stop words (considered not important).</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb87-1"><a href="control-structures.html#cb87-1" tabindex="-1"></a>sentence <span class="op">=</span> <span class="st">&quot;I am not a fan of this film&quot;</span></span>
<span id="cb87-2"><a href="control-structures.html#cb87-2" tabindex="-1"></a>stop_words <span class="op">=</span> [<span class="st">&#39;a&#39;</span>,<span class="st">&#39;am&#39;</span>,<span class="st">&#39;an&#39;</span>,<span class="st">&#39;i&#39;</span>,<span class="st">&#39;the&#39;</span>,<span class="st">&#39;of&#39;</span>]</span></code></pre></div>
<div class="sourceCode" id="cb88"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb88-1"><a href="control-structures.html#cb88-1" tabindex="-1"></a>clean_words <span class="op">=</span> [word <span class="cf">for</span> word <span class="kw">in</span> sentence.split() <span class="cf">if</span> word.lower() <span class="kw">not</span> <span class="kw">in</span> stop_words]</span>
<span id="cb88-2"><a href="control-structures.html#cb88-2" tabindex="-1"></a>clean_words</span></code></pre></div>
<pre><code>## [&#39;not&#39;, &#39;fan&#39;, &#39;this&#39;, &#39;film&#39;]</code></pre>
<p><strong>Side note</strong>: this task can be accomplished with sets, if not concerned with multiple instances of the same word.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="control-structures.html#cb90-1" tabindex="-1"></a>s1 <span class="op">=</span> <span class="bu">set</span>(stop_words)</span>
<span id="cb90-2"><a href="control-structures.html#cb90-2" tabindex="-1"></a>s2 <span class="op">=</span> <span class="bu">set</span>(sentence.lower().split())</span>
<span id="cb90-3"><a href="control-structures.html#cb90-3" tabindex="-1"></a>s2<span class="op">-</span>s1</span></code></pre></div>
<pre><code>## {&#39;film&#39;, &#39;fan&#39;, &#39;not&#39;, &#39;this&#39;}</code></pre>
</div>
<div id="selecting-tokens-containing-units" class="section level4 hasAnchor" number="3.3.3.2">
<h4><span class="header-section-number">3.3.3.2</span> Selecting Tokens Containing Units<a href="control-structures.html#selecting-tokens-containing-units" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Given list of measurements, retain elements containing <em>mmHg</em> (millimeters of mercury)</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb92-1"><a href="control-structures.html#cb92-1" tabindex="-1"></a>units <span class="op">=</span> <span class="st">&#39;mmHg&#39;</span></span>
<span id="cb92-2"><a href="control-structures.html#cb92-2" tabindex="-1"></a>measures <span class="op">=</span> [<span class="st">&#39;20&#39;</span>, <span class="st">&#39;115mmHg&#39;</span>, <span class="st">&#39;5mg&#39;</span>, <span class="st">&#39;10 mg&#39;</span>, <span class="st">&#39;7.5dl&#39;</span>, <span class="st">&#39;120 mmHg&#39;</span>]</span>
<span id="cb92-3"><a href="control-structures.html#cb92-3" tabindex="-1"></a>measures_mmhg <span class="op">=</span> [measure <span class="cf">for</span> measure <span class="kw">in</span> measures <span class="cf">if</span> units <span class="kw">in</span> measure]</span>
<span id="cb92-4"><a href="control-structures.html#cb92-4" tabindex="-1"></a></span>
<span id="cb92-5"><a href="control-structures.html#cb92-5" tabindex="-1"></a>measures_mmhg</span></code></pre></div>
<pre><code>## [&#39;115mmHg&#39;, &#39;120 mmHg&#39;]</code></pre>
<p><strong>Filtering on Two Conditions</strong></p>
<div class="sourceCode" id="cb94"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb94-1"><a href="control-structures.html#cb94-1" tabindex="-1"></a>units1 <span class="op">=</span> <span class="st">&#39;mmHg&#39;</span></span>
<span id="cb94-2"><a href="control-structures.html#cb94-2" tabindex="-1"></a>units2 <span class="op">=</span> <span class="st">&#39;dl&#39;</span></span>
<span id="cb94-3"><a href="control-structures.html#cb94-3" tabindex="-1"></a>meas_mmhg_dl <span class="op">=</span> [meas <span class="cf">for</span> meas <span class="kw">in</span> measures <span class="cf">if</span> units1 <span class="kw">in</span> meas <span class="kw">or</span> units2 <span class="kw">in</span> meas]</span>
<span id="cb94-4"><a href="control-structures.html#cb94-4" tabindex="-1"></a></span>
<span id="cb94-5"><a href="control-structures.html#cb94-5" tabindex="-1"></a>meas_mmhg_dl</span></code></pre></div>
<pre><code>## [&#39;115mmHg&#39;, &#39;7.5dl&#39;, &#39;120 mmHg&#39;]</code></pre>
<p>This can be written differently for clarity:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb96-1"><a href="control-structures.html#cb96-1" tabindex="-1"></a>[meas </span>
<span id="cb96-2"><a href="control-structures.html#cb96-2" tabindex="-1"></a> <span class="cf">for</span> meas <span class="kw">in</span> measures </span>
<span id="cb96-3"><a href="control-structures.html#cb96-3" tabindex="-1"></a> <span class="cf">if</span> units1 <span class="kw">in</span> meas </span>
<span id="cb96-4"><a href="control-structures.html#cb96-4" tabindex="-1"></a> <span class="kw">or</span> units2 <span class="kw">in</span> meas]</span></code></pre></div>
<pre><code>## [&#39;115mmHg&#39;, &#39;7.5dl&#39;, &#39;120 mmHg&#39;]</code></pre>
</div>
<div id="dict-comprehensions" class="section level4 hasAnchor" number="3.3.3.3">
<h4><span class="header-section-number">3.3.3.3</span> Dict Comprehensions<a href="control-structures.html#dict-comprehensions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Dict comprehensions</strong> provide a concise method for iterating over a dict to create a new dict</p>
<p>This is common when data is structured as key-value pairs, and we’d like to filter the dict.</p>
<p>Here we define various deep learning models and their depths (in layers).</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="control-structures.html#cb98-1" tabindex="-1"></a>model_arch <span class="op">=</span> {<span class="st">&#39;cnn_1&#39;</span>:<span class="dv">15</span>,<span class="st">&#39;cnn_2&#39;</span>:<span class="dv">20</span>,<span class="st">&#39;rnn&#39;</span>:<span class="dv">10</span>}</span></code></pre></div>
<p>we use a comprehension to create a new dict containing only key-value pairs where the key contains the string <code>cnn</code>.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="control-structures.html#cb99-1" tabindex="-1"></a>cnns <span class="op">=</span> {key:model_arch[key] <span class="cf">for</span> key <span class="kw">in</span> model_arch.keys() <span class="cf">if</span> <span class="st">&#39;cnn&#39;</span> <span class="kw">in</span> key}</span>
<span id="cb99-2"><a href="control-structures.html#cb99-2" tabindex="-1"></a></span>
<span id="cb99-3"><a href="control-structures.html#cb99-3" tabindex="-1"></a>cnns</span></code></pre></div>
<pre><code>## {&#39;cnn_1&#39;: 15, &#39;cnn_2&#39;: 20}</code></pre>
<p>We build the key-value pairs using <code>key:model_arch[key]</code>, where key indexes into the dict <code>model_arch</code>.</p>
</div>
</div>
</div>
<div id="nested-comprehensions" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Nested Comprehensions<a href="control-structures.html#nested-comprehensions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Recall that nested loops are the algorithmic complement to nested data structures.</p>
<p>Just as we can nest loops using <code>for</code> loops, we can do so with comprehensions</p>
<p>Here are some examples:</p>
<div id="example-1-creating-a-matrix" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Example 1: Creating a Matrix<a href="control-structures.html#example-1-creating-a-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here is how we can make a matrix - a two dimensional data structure where each element is of the same data type - using plain old <code>for</code> loops.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="control-structures.html#cb101-1" tabindex="-1"></a>matrix1 <span class="op">=</span> [] <span class="co"># Matrix created</span></span>
<span id="cb101-2"><a href="control-structures.html#cb101-2" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb101-3"><a href="control-structures.html#cb101-3" tabindex="-1"></a>    matrix1.append([]) <span class="co"># Row created</span></span>
<span id="cb101-4"><a href="control-structures.html#cb101-4" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb101-5"><a href="control-structures.html#cb101-5" tabindex="-1"></a>        matrix1[i].append(j) <span class="co"># Cell populated</span></span>
<span id="cb101-6"><a href="control-structures.html#cb101-6" tabindex="-1"></a>        </span>
<span id="cb101-7"><a href="control-structures.html#cb101-7" tabindex="-1"></a>matrix1</span></code></pre></div>
<pre><code>## [[0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4]]</code></pre>
<p>Here’s how we can do it with a nested list comprehension:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="control-structures.html#cb103-1" tabindex="-1"></a>matrix2 <span class="op">=</span> [[j <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>)] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span> (<span class="dv">5</span>)]</span>
<span id="cb103-2"><a href="control-structures.html#cb103-2" tabindex="-1"></a></span>
<span id="cb103-3"><a href="control-structures.html#cb103-3" tabindex="-1"></a>matrix2</span></code></pre></div>
<pre><code>## [[0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4]]</code></pre>
<p>Replacing five lines of code with just one.</p>
</div>
<div id="example-2-filtering-a-nested-list" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Example 2: Filtering a Nested List:<a href="control-structures.html#example-2-filtering-a-nested-list" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Create a filter to extract some things we want from a matrix.</p>
<p>In this case we want to pull out all the odd numbers and save them as a list.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb105-1"><a href="control-structures.html#cb105-1" tabindex="-1"></a>matrix3 <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]]</span>
<span id="cb105-2"><a href="control-structures.html#cb105-2" tabindex="-1"></a>odd_numbers1 <span class="op">=</span> []</span>
<span id="cb105-3"><a href="control-structures.html#cb105-3" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> matrix3:</span>
<span id="cb105-4"><a href="control-structures.html#cb105-4" tabindex="-1"></a>    <span class="cf">for</span> element <span class="kw">in</span> row:</span>
<span id="cb105-5"><a href="control-structures.html#cb105-5" tabindex="-1"></a>        <span class="cf">if</span> element <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>:</span>
<span id="cb105-6"><a href="control-structures.html#cb105-6" tabindex="-1"></a>            odd_numbers1.append(element)</span>
<span id="cb105-7"><a href="control-structures.html#cb105-7" tabindex="-1"></a></span>
<span id="cb105-8"><a href="control-structures.html#cb105-8" tabindex="-1"></a>odd_numbers1</span></code></pre></div>
<pre><code>## [1, 3, 5, 7, 9]</code></pre>
<p>Now do it with a comprehension</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb107-1"><a href="control-structures.html#cb107-1" tabindex="-1"></a>odd_numbers2 <span class="op">=</span> [element <span class="cf">for</span> row <span class="kw">in</span> matrix3 <span class="cf">for</span> element <span class="kw">in</span> row <span class="cf">if</span> element <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb107-2"><a href="control-structures.html#cb107-2" tabindex="-1"></a></span>
<span id="cb107-3"><a href="control-structures.html#cb107-3" tabindex="-1"></a>odd_numbers2</span></code></pre></div>
<pre><code>## [1, 3, 5, 7, 9]</code></pre>
<p>Compare the traditional <code>for</code> loop way:</p>
<p>with the comprehension (inside <code>[]</code>):</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="control-structures.html#cb109-1" tabindex="-1"></a>element                        </span>
<span id="cb109-2"><a href="control-structures.html#cb109-2" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> matrix3 </span>
<span id="cb109-3"><a href="control-structures.html#cb109-3" tabindex="-1"></a>        <span class="cf">for</span> element <span class="kw">in</span> row </span>
<span id="cb109-4"><a href="control-structures.html#cb109-4" tabindex="-1"></a>            <span class="cf">if</span> element <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span></span></code></pre></div>
<p>See how they are the same, except that the kernel operation - appending filtered values to a result list - is hoisted to the top in the case of the comprehension.</p>
</div>
<div id="example-3-flattening-nested-sub-lists" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Example 3: Flattening Nested Sub-Lists<a href="control-structures.html#example-3-flattening-nested-sub-lists" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here we take a nested structure and flatten it out.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb110-1"><a href="control-structures.html#cb110-1" tabindex="-1"></a>nested_list <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>], [<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]]</span>
<span id="cb110-2"><a href="control-structures.html#cb110-2" tabindex="-1"></a>flat_list1 <span class="op">=</span> []</span>
<span id="cb110-3"><a href="control-structures.html#cb110-3" tabindex="-1"></a><span class="cf">for</span> sub_list <span class="kw">in</span> nested_list:</span>
<span id="cb110-4"><a href="control-structures.html#cb110-4" tabindex="-1"></a>    <span class="cf">for</span> val <span class="kw">in</span> sub_list:</span>
<span id="cb110-5"><a href="control-structures.html#cb110-5" tabindex="-1"></a>        flat_list1.append(val)</span>
<span id="cb110-6"><a href="control-structures.html#cb110-6" tabindex="-1"></a></span>
<span id="cb110-7"><a href="control-structures.html#cb110-7" tabindex="-1"></a>flat_list1</span></code></pre></div>
<pre><code>## [1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<p>Comprehension:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb112-1"><a href="control-structures.html#cb112-1" tabindex="-1"></a>flat_list2 <span class="op">=</span> [val <span class="cf">for</span> sub_list <span class="kw">in</span> nested_list <span class="cf">for</span> val <span class="kw">in</span> sub_list]</span>
<span id="cb112-2"><a href="control-structures.html#cb112-2" tabindex="-1"></a></span>
<span id="cb112-3"><a href="control-structures.html#cb112-3" tabindex="-1"></a>flat_list2</span></code></pre></div>
<pre><code>## [1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
</div>
<div id="example-4-manipulating-matrix-values" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Example 4: Manipulating Matrix Values<a href="control-structures.html#example-4-manipulating-matrix-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Finally, we demonstrate how to manipulate each value in a matrix of words.</p>
<p>In this case, we simply capitalize each string.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="control-structures.html#cb114-1" tabindex="-1"></a>matrix4 <span class="op">=</span> [[<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>],</span>
<span id="cb114-2"><a href="control-structures.html#cb114-2" tabindex="-1"></a>        [<span class="st">&quot;date&quot;</span>, <span class="st">&quot;fig&quot;</span>, <span class="st">&quot;grape&quot;</span>],</span>
<span id="cb114-3"><a href="control-structures.html#cb114-3" tabindex="-1"></a>        [<span class="st">&quot;kiwi&quot;</span>, <span class="st">&quot;lemon&quot;</span>, <span class="st">&quot;mango&quot;</span>]]</span>
<span id="cb114-4"><a href="control-structures.html#cb114-4" tabindex="-1"></a>modified_matrix1 <span class="op">=</span> []</span>
<span id="cb114-5"><a href="control-structures.html#cb114-5" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> matrix4:</span>
<span id="cb114-6"><a href="control-structures.html#cb114-6" tabindex="-1"></a>    modified_row <span class="op">=</span> []</span>
<span id="cb114-7"><a href="control-structures.html#cb114-7" tabindex="-1"></a>    <span class="cf">for</span> fruit <span class="kw">in</span> row:</span>
<span id="cb114-8"><a href="control-structures.html#cb114-8" tabindex="-1"></a>        modified_row.append(fruit.capitalize())</span>
<span id="cb114-9"><a href="control-structures.html#cb114-9" tabindex="-1"></a>    modified_matrix1.append(modified_row)</span>
<span id="cb114-10"><a href="control-structures.html#cb114-10" tabindex="-1"></a>    </span>
<span id="cb114-11"><a href="control-structures.html#cb114-11" tabindex="-1"></a>modified_matrix1</span></code></pre></div>
<pre><code>## [[&#39;Apple&#39;, &#39;Banana&#39;, &#39;Cherry&#39;], [&#39;Date&#39;, &#39;Fig&#39;, &#39;Grape&#39;], [&#39;Kiwi&#39;, &#39;Lemon&#39;, &#39;Mango&#39;]]</code></pre>
<p>Comprehension:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="control-structures.html#cb116-1" tabindex="-1"></a>modified_matrix2 <span class="op">=</span> [[fruit.capitalize() <span class="cf">for</span> fruit <span class="kw">in</span> row] <span class="cf">for</span> row <span class="kw">in</span> matrix4]</span>
<span id="cb116-2"><a href="control-structures.html#cb116-2" tabindex="-1"></a></span>
<span id="cb116-3"><a href="control-structures.html#cb116-3" tabindex="-1"></a>modified_matrix2</span></code></pre></div>
<pre><code>## [[&#39;Apple&#39;, &#39;Banana&#39;, &#39;Cherry&#39;], [&#39;Date&#39;, &#39;Fig&#39;, &#39;Grape&#39;], [&#39;Kiwi&#39;, &#39;Lemon&#39;, &#39;Mango&#39;]]</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introducing-python.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-control-structures.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
